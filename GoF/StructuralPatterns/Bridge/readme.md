# **Bridge 패턴**

*하나의 계층만으로 설계된 복합 객체는 브리지 패턴이라 하지 않으며, 브리지 피턴은 핸들(handle)패턴 혹은 구현부 패턴이라고도 한다.*

> ### **요약**

Bridge|내용|
|---|---|
|**목적**|객체의 확장성을 향상시키기 위한 패턴이다. 구현뿐만 아니라 추상화도 독립적 변경을 위해 사용한다.|
|**설명**|브리지는 구현 계층과 추상 계층 두 곳을 연결하는 다리이다. 동작하고자 하는 기능을 구현부와 추상화 형태로 분리하며, 새로운 기능을 확장으로 처리하지 않고 위임(delegate)으로 처리한다. 이렇게 분리된 기능과 구현을 브리지화 형태로 결합해 동작하는 패턴이다.(추상 레벨간의 연결을 처리한다.)|
|**방법**|객체에서 동작을 처리하는 구현부(body)와 확장을 위한 추상부를 분리한다.(계층을 분리한다.) 브리지 패턴을 적용하기 위해서는 ex_2[`Implementor(구현)`, `ConcreateImplementor`], ex_3[`Abstract`, `refinedAbstract`] 을 사용한다. 브리지 패턴은 상속 대신 구현을 이용해 분리된 객체를 연결한다.(연결은 구성을 위한 위임이다. 구현을 통해 객체를 연결하여 객체 간 종속관계를 제거한다.)|
|**장점**|기존 시스템에 부수적인 새로운 기능들을 지속적으로 추가할 때 사용하면 유용하다. 새로운 인터페이스를 정의하여 기존 프로그램의 변경없이 기능을 확장할 수 있다. 클래스 계층을 분리할 때 완전한 인터페이스로 결합하지 않아 클래스에서 구현과 추상 부분을 2개의 계층으로 분리할 수 있으며, 분리된 2개의 추상 계층과 구현 계층은 독립적인 확장이 가능하다. 클라이언트 코드의 경우 추상 계층과 연결된 구현 클래스를 변경해도 영향 없이 사용할 수 있다. 다중 플랫폼을 지원하는 코드를 개발할 때 유용하다.|
|**단점**|하나의 클래스가 추상 계층과 구현 계층으로 분리하는데, 추상화를 통해 코드를 분리할 경우 코드 디자인 설계가 복잡해진다.|
||

***2개의 객체는 추상화를 구현에서 분리하여 매우 독립적으로 사용할 수 있어야 한다.***

<br>

**기능 계층과 구현 계층의 분리로 시스템의 확장성과 유지보수성을 높이는 패턴**이다.
기존 시스템에 새로운 기능을 추가해도 **기능 계층을 통해 기존에 작성된 코드의 변경을 최소화** 시킬 수 있다. 또한 **기능에 대해서도 구현계층을 통해 확장을 용이**하게 해준다.

추가 요청에 의해 기존에 완성된 코드를 변경하는 작업 **(유지보수)을 용이하게** 해준다.

- 새로운 코드를 추가하는 것인 기존의 설계 모델의 변형을 의미한다.(이로 인해 깔끔했던 코드가 잦은 요구사항으로 인해 지저분하게 된다. 코드는 점점 가독성이 떨어지고 유지보스를 위한 코드 분석 시간이 늘어난다.)

<br>

> **기능계층**

- 새로운 기능을 위한 메서드를 추가할 수 있는 클래스들을 말한다.

<br>

> **구현계층**

- 이미 정해진 인터페이스에 대한 구현 클래스들을 말한다. (인터페이스를 적용하여 구현 부분을 각각의 클래스로 분리한다.)

<br>

> **Bridge(연결)**

- 기능계층과 구현계층을 연결한다.


<br><hr><br>

## **예제 코드**


<br>

### **코드 구조**

![Bridge.png](/img/Bridge.png)

<br>

- ### **설명** 

> **example_1**

`Draft`와  `Publication`클래스는 **기능 계층**에 포함된다.

인터페이스 `Display` 와 `SimpleDisplay`, `CaptionDisplay` 는 **구현 계층**에 포함된다. 

`Draft`와 `Display` 사이에 사용관계(`Bridge`)가 놓인 관계이다.

구현계층을 통해서 하나의 개체를 다양한 형태(`SimpleDisplay`, `CaptionDisplay`)로 표현했고, 기능계층을 통해 **새로운 요구사항(`Publication`)이 발생했을 때, 기존에 작성된 코드를 변경하지 않고도 새로운 기능을 추거** 할 수 있다.

<br>

> **example_2**

![bridge_ex_2.png](/img/bridge_ex_2.png)

상속으로 나뉜 인사말 기능을 인터페이스를 이용하여 계층화된 클래스를 분리한다. 분리된 객체가 동일한 호출 멸령을 할 수 있도록 인터페이스를 각각의 클래스에 적용한다.

<br>

> **example_3**

![bridge_ex_3.png](/img/bridge_ex_3.png)

exmaple_3 는 example_2에 구성을 통한 복합객체를 추가한 방법이다.

복합 객체인 Language는 구현 클래스의 객체를 프로퍼티(변수) 에 담고 있으며 프로퍼티를 설정할 수 있는 setter 메서드를 갖고 있다.

구현부는 동일하다.

<br>

> **example_4**

example_2~3 을 기반으로 실제적인 브리지 패턴을 설계하는 방법이다.

구성 클래스의 연결 부분(Language)을 추상 계층으로 변경한다. 추상화 변경을 실행하는 이유는 계층이 독립적으로 확장/변경 가능하기 위함이다.
