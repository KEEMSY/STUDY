# **Adapter 패턴**

![adapterAndadaptee.png](/img/adapterAndadaptee.png)

- **`Adapter(어댑터)`**: 변환을 처리하는 객체
- **`Adaptee(어댑티)`**: 변환을 받아 사용하는 객체

> ### **요약**

Adapter|내용|
|---|---|
|**목적**|기능상으로 문제 없이 동작하는 코드가 단지 인터페이스 차이 때문에 사용할 수 없는 경우, 클라이언트와 통신할 수 있도록 인터페이스의 구조를 변경한다. 또한 기존코드에 우류가 있거나 보정 작업이 필요한 경우 매우 유용하다.|
|**설명**|코드를 재사용하기 위해 인터페이스를 처리하고 인터페이스를 활용하여 보정코드를 작성한 패턴을 말한다.|
|**방법**|연관성이 없는 2개의 객체를 묶어 **인터페이스를 통일**한다. 그리고 통일화된 변경 인터페이스를 통해 기존의 코드를 재사용한다.(`Adapter`와 `Adaptee` 클래스의 결합을 생성한다.)|
|**장점**|패턴을 구현하기 쉽고, 클라이언트 입장에서는 변화한 것이 없는것처럼 사용할 수 있다. **객체 어댑터**를 통해 구현할 경우 구성을 통해 **느슨한 연결 방식으로 보다 많은 유연성을 확보**할 수 있으며, **실행되는 도중에도 객체를 변경**할 수 있다.|
|**단점**|객체를 구성으로 결합하면 어댑터는 클라이언트에서 사용하는 인터페이스 방식으로 메서드를 새로 생성하게 되고, 어댑터가 새로운 메서드를 재구성할 때 추가 코드가 필요하게 된다.(**패턴적용으로 인한 코드가 증가하게 된다.**)|
||

**문제점을 가진 래퍼하면 새로운 객체가 된다.**(기존 객체를 감싼 또 다른 객체인것이다.)

- 새로 생성되는 객체는 **클라이언트-어댑티 간 호환을 위한 인터페이스**를 갖고 있다.
- 어댑티가 기존 객체(client)의 인터페이스와 호환되지 않을 경우에는 새로운 환경에 맞게 인터페이스(어댑터를 재설계해야한다.)

*다중어댑터(Two way adapter)는 두개이상의 인터페이스를 섞어서 사용하며 기존의 인터페이스와 새로운 인퍼테이스를 모두 사용한다.*

<br>

> **중개 행동**

래퍼 처리된 **새로운 객체(어댑티)** 는 **기존의 코드와 새로운 환경(클라이언트) 간의 역할을 중개**한다.

- 어댑터는 중개적인 특징을 이용하여 코드의 재사용을 높인다.
- 중개란 새로운 기능을 제공하는 것이 아니라 **단순한 변환과 전달 역할만을 목적**으로 한다.

<br>

> **어댑터의 종류**

- 어댑터는 다른 객체의 구조를 내가 원하는 인터페이스 방향으로 개선한다.
- 어댑터의 종류에는 **`클래스 어댑터(상속)`**, **`객체 어댑터(구성)`** 가 존재한다.

<br>

> **클래스 어댑터**

![multiple_inheritance-dis.png](/img/multiple_inheritance-dis.png)

클래스 어댑터는 클래스 **`상속`** 특성을 이용하며, 클래스 어댑터를 사용하기 위해서는 **다중 상속이 필요**하다.

- 2개의 클래스를 상속받아 기존 클래스의 메서드를 다른 메서드로 대체하는 방법을 말한다.
- 별도의 어댑티를 만들지 않으며, 하나의 클래스로 어댑터 객체를 처리할 수 있다.
- 클라이언트는 코드를 수정않아 특별한 변화 작업 없이 기존의 코드를 그대로 사용할 수 있다.
- 클래스 어댑터를 사용하면 1개의 클래스만드로도 기능을 보정할 수 있다.

<br>

> **객체 어댑터**

![object-composition.png](/img/object-composition.png)

객체 어댑터는 **객체의 `의존성`을 이용**해 문제를 해결한다. 객체 어댑터는 **기존 타깃인 객체의 인터페이스에 영향**을 받으며, 타깃의 인터페이스가 복잡할수록 많은 작업이 필요하다.

- 객체 어댑터는 **내부적으로 개체를 재구성**한다. 그리고 구성을 위해 기존 객체는 복합객체로 변환된다.
- 객체 어댑터의 구성은 변환될 객체를 의존성 관계로 연결한다.(의존성 연결은 어댑터 객체에서 직접 생성할 수 있으며 외부에서 인자로 받아 주입할 수 있다.)
- 구성으로 변경된 객체는 서브 클래스의 동작도 같이 처리한다.

<br><hr><br>

## **예제 코드**

<br>

### **코드 구조**

![Adapter.png](/img/Adapter.png)

<br>

- ### **설명**

    `User`는  `Animal`을 사용한다.  `Animal` 클래스를 구현한 클래스는 `Dog`, `Cat` 이 존재한다.

    이 때 코드를 수정할 수 없는 `Tiger` 클래스를 `Animal` 클래스처럼 사용하기 위해 `TigetAdapter` 클래스를 생성한다.

    `TigetAdapter` 는 `Animal` 클래스를 구현하고, `Tiger` 클래스를 필드로 갖게 한다.

    이렇게 하여 `Tiger` 클래스를 변경하지 않아도, `TigerAdapter` 클래스를 통해 `Animal` 클래스처럼 사용이 가능하다.
