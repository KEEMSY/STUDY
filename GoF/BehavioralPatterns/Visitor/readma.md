# **Visitor 패턴**
`Visitor` 패턴은 **데이터 구조와 데이터 처리를 별도의 클래스로 분리해주는 패턴**을 말한다.
이는 데이터 처리 방식을 기존의 소스코드 변경 없이 새로운 클래스 추가만으로 데이터 처리 방식을 확장할 수 있게 한다.

- 데이터 구조는 `Composite` 패턴을 사용하여 표현한다.
    
    이를 통해 단일 데이터와 단일 데이터로 구성되는 집합 데이터를 표현할 수 있다.

<br>

데이터를 나타내는 클래스가 있을 때, 이 데이터를 처리하는 코드는 해당 데이터 클래스의 메서드로 구현하는 것이 쉬워보이지만 `Visitor` 패턴은 데이터를 처리하는 방식을 메서드가 아닌 별도의 클래스로 구현한다.

이렇게 **데이터 구조와 데이터를 처리하는 방법을 별도의 클래스로 분리**해줌으로써 **새로운 데이터 처리방식을 추가할 때, 기존의 소스코드 변경 없이 새로운 클래스 추가만으로 기능을 확장할 수 있다.**


<br><hr><br>

## **예제 코드**


<br>

### **코드 구조**
![Visitor.png.png](/img/Visitor.png)

<br>

- ### **설명** 

    `Unit` 인터페이스 와 이를 구현하는 `Item`, `ItemList` 클래스가 **데이터 구조**를 나타낸다.

    `accept` 메서드를 통해 `Visitor` 클래스에게 **방문을 허락**한다. 이후 허락받은 `Visitor` 객체는 `visit` 메서드를 통해 **허락된 데이터의 값을 처리**하게 된다.

    `Item` 클래스가** 단일 데이터**를 나타내며, 하나의 정수 값을 갖는다. 
    `ItemList` 클래스는 `Unit` 타입의 객체를 여러개 가질 수 있으며, **단일 데이터나 집합 데이터**를 포핢할 수 있다.

    `Visitor` 인터페이스와 이를 구현하는 `SumVisitor`, `AvgVisitor` 클래스가 **데이터 처리**를 나타낸다.

    `SumVisitor` 는 데이터가 가지고 있는 정수 값들을 합산한다.
    
    `AvgVisitor` 는 데이터가 가지고 있는 정수 값의 평균을 계산한다.
