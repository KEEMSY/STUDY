## **DDD(Domain Driven Development)**
도메인 로직과 인프라를 분리하면 소프트웨어를 보다 쉽게 설계, 개발, 테스트, 구축할 수 있다.

도메인 논리를 안정적으로 유지하고 인프라 구성 요소를 변경하고 적응하는데 도움이 된다.

<br><hr>

## **디자인 영역**

디자인을 하는 영역에는 전략적 측면과 전술적 측면이 존재한다.

> **전략적 도메인 주도 설계**

도메인 모델의 경계에 초점을 두고 경계 컨텍스트를 도입한다.

- 도메인 자체는 음식 주문 애플리케이션과 같은 시스템의 운영 영역이며, 해당 도메인 내에서 잘 정의된 경계가 존재해야한다.
- 이러한 경계는 경계 컨텍스트를 사용하여 정의 된다.(이는 시스템의 기능을 그룹화 하는데 도움이 된다.)
- 도메인은 도메인 논리에 따라 하나 이상의 하위 도메인을 가질 수 있다.

<br>

*`Ubiquitous Language`*: 기본적으로 도메인 전문가와 개발자 간의 공통 언어를 정의하여 시스템이 도메인의 기여로 의사소통이 잘되는 환경에서 설계, 개발 및 진화하는데 도움을 준다.

<br>

> **전술적 영역 주도 설계**

세부 사항의 구현에 중점을 둔다.

- **`Entities(엔터티)`**
    
     핵심 도메인 개체로 중요한 비즈니스 놀리를 가지고 있으며, 엔티티는 고유해야한다.

     생성될 때, 엔티티의 수명동안 변경되지 않은 상태로 유지 된다.

     다른 모든 속성이 동일하더라도 동일한 식별자를 가진 두개의 엔터티가 동일한 개체로 간주된다.

     마찬가지로, 식별자가 다르면 두 엔터티가 다른 것으로 간주된다.

     인터티 개체는 일부 비즈니스 논리를 실행하고 기반으로 속성을 업데이트 하므로 변경 가능한 개체이다.

     그러나 언터티의 모든 속성에 대해 setter 메서드를 만ㄷ르어야 한다는 의미는 아니다.(올바른 동사를 사용하여 잘 정의된 이름을 가진 상태 변경 메서드가 있어야 한다.)

    <br>

- **`Aggregates(집계)`**

    논리적으로 관련된 엔터티 개체 그룹을 말한다.
    예를들어 주문을 퐇마하는 주문 프로세스 집계를 말한 수 있다.

    집계의 중요한 점은 집계가 일관된 방식으로 전체적으로 검색되고 저장되아야 한다는 것이다.

    <br>

- **`Aggregate Root(AR)`**

    집계 루트는 집계를 일관된 상태로 유지하는 책임이 존재한다.
    따라서 집계는 집계 루트가 소유하고 루트의 식별자도 집계를 식별한다.

    집게 루트는 비즈니스 불변성을 적용하는 책임이 있다.

    집계를 일관된 상태로 유지하는 것은 외부로 부터 집계를 동해서만 집계를 참조할 수 있다는 것이다.

    즉, 모든 상태 변경 작업은 루트 엔터티를 거쳐야 한다.
    (집계 경로 이외의 엔터티는 외부 개체에서 참조할 수 없다.)
    
    집계에 대한 모든 상태 변경 작업을 완료하면 데이터를 저장하기 전에 집계를 일관된 상태로 유지하기 위해 매번 엄격한 유효성 검사를 시행해야한다.

    또한 데이터 저장소 제약조건을 적용하고 낙관적으로 보는 것은 여러 위협에 의해 업데이트가 충돌하는 경우에 데이터 손실 또는 손상을 방지할 수 있다.

    다른 집계에서 엔티티가 독립적으로 수정되고 외부에서 식별자에 의해 액세스 되는경우, 어떤 엔터티가 종합 경로가 될 것인지 결정하려면 고려해야한다.
    
    (이 경우 해당 엔터티를 집계의 루트로 선택한다.) 
    