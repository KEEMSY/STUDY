# 코드의 재사용성을 증진 시키는 방법


코드의 `재사용성`은 코드의 품질을 판단하는 중요한 기준이다. 코드의 `재사용성`을 향상시키는 방법은 다양하지만, 무엇보다도 의식적으로 코드를 재사용하겠다는 마음을 갖는 것이 중요하다. 

- 코드를 작성할 때마다 현재 작성중인 코드를 필요에 따라 독립적인 `모듈`, `클래스`, `함수` 로 사용할 수 있는지 고려한다.
- `모듈`, `함수`, `클래스`를 설계할 때, `외부 API`를 설계하는 것과 동일한방식으로 재사용성을 고려한다.
	- 하지만, 명시적인 재사용 요구사항이 없다면, 현재 불필요한 재사용 요구사항에 너무 많은 개발 리소스를 쏟지 않도록 주의한다.
	- `3의 법칙(Rule of Three)` 을 개발에 적용하여, 처음 코드를 작성할 때는 재사용성을 고려하지 않고 개발하며 나중에 재사용 시나리오를 만나면 다시 사용할 수 있도록 리팩토링 할 수 있다.

<br><hr>

### 코드의 결합도를 줄인다.

고도로 `결합된 코드`는 특정 기능을 재사용하거나 독립적인 `모듈`, `클래스`, `함수`로 추출하려고 할 때, 일부 코드의 동작이 전체에 영향을 미치며,일부 코드를 분리하기 위해 보다 많은 코드를 재배치 해야하는 경우가 많다.

따라서, `결합도`가 높은 코드는 코드의 `재사용성` 에 영향을 미치며, 이를 피하기 위해 코드의 `결합도`를 최소화 시켜야 한다.

<br>

### 단일 책임 원칙을 충족시켜야 한다.

`모듈`이나 `클래스`의 책임이 충분히 `단일`하지 않은데, 설계가 거대하다면 해당 모듈이나 클래스에 의존하는 더 많은 코드가 있을 것이며, 동시에 이 모듈이나 클래스도 다른 코드에 많이 의존하고 있을 가능성이 높다.

이것은 코드의 `결합도`를 증가 시키고 `재사용성`에 영향을 미친다. 

- 코드의 단위가 작을 수록 `범용성`이 향상되고, `재사용`이 더 쉬워진다.

<br>

### 코드를 모듈화 한다.

`모듈`은 클래스의 모음뿐만 아니라 단일 `클래스`나 `함수`로도 이해할 수 있다. `모듈`은 `재사용`하기 쉽고 복잡한 시스템을 구축하는데 직접 사용할 수 있는 빌딩 블록과 같다. 따라서 우리는 기능적으로 독립적인 코드를 `모듈`로 `캡슐화` 하는 방법을 알아 둘 필요가 있다.

<br>

### 비즈니스 논리와 비즈니스 논리가 아닌 부분을 분리한다.

특정 `비즈니스와 관련이 없는` 코드는 `재사용`하기 쉽고, `특정 비즈니스에서 사용되는` 코드는 `재사용`하기 어렵다. 따라서 개발 간, 재사용하기 쉬운 코드를 작성하기 위해 비즈니스 논리에서 비즈니스와 관련 없는 논리를 분리하여 `공통 프레임워크`, `클래스 라이브러리`, `구성 요소` 로 추출해야한다.

<br>

### 일반적인 코드는 하위 계층으로 내려보낸다.

계층화 관점에서 `하위 계층의 코드`는 `재사용`하기 쉬으므로, 일반적인 코드는 상위 계층 시스템에서 재사용할 수 있도록 하위 계층으로 내려보내야 한다.

- 코드가 계층으로 분리되면, 교차 호출로 인한 호출 관계의 혼동이 발생할 수 있다.
	- 상위 계층의 코드가 하위 계층의 코드를 호출하는 작업 과 동일 계층 코드끼리 호출하는 작업만 허용한다.
	- 하위 계층의 코드가 상위 계층의 코드를 호출하는 작업을 금지한다.

<br>

### 상속, 다형성, 추상화, 캡슐화 를 활용한다.

- `상속`을 사용하면 공통 코드가 상위 클래스로 추출되고 하위 클래스는 상위 클래스의 속성과 메서드를 `재사용`할 수 있게 된다. 
- `추상적`인 코드일수록 재사용이 쉽다.
- `캡슐화`를 통해 코드는 세부 정보를 숨기고 변경되지 않는 인터페이스를 노출하며, `재사용`하기 쉬운 모듈로 될 수 있다.

<br>

### 디자인 패턴을 활용하면 코드의 재사용성을 증진 시킬 수 있다.

`템플릿 메서드` 패턴은 코드의 일부를 유연하게 교체할 수 있는 `다형성`을 사용한다. 이외에도 다양한 디자인 패턴들은 코드의 `재사용성` 및 `확장성`을 고려하여 설계 되어있다.

- `제네릭 프로그래밍` 과 같은 일부 프로그래밍 언어에서 지원하는 기능을 사용한다.

<br><hr>

## 정리

1. `결합도`가 높은 코드는 `재사용`을 위해 따로 추출하기가 쉽지 않다. 따라서 `재사용성`을 증진(함수 또는 클래스로 추출) 하기 위해서는 코드 간 `결합도`를 최소한으로 해야한다.
2. 1. 와 관련하여 코드 간 `결합도`를 최소한으로 하기 위해서는 코드의 설계가 `SRP(단일 책임 원칙)`을 준수해야한다. 단일 책임 원칙을 준수한다면, `코드의 단위`가 더 작아지고, 코드의 `재사용성`을 증진시킬 수 있다.
3. 코드간 결합도가 낮은 코드들을 통해, 이를 `모듈화` 하여 코드의 `재사용성`을 증진 시킨다. `모듈화`는 코드의 `재사용성` 뿐만아니라, 쉽고 복잡한 시스템을 구축하는데 하나의 `부품`으로 사용할 수 있다.
4. 개발 간 `재사용`하기 쉬운 코드는 `특정 비즈니스와 관련이 없는 코드`이다. 따라서, 우리는 비즈니스와 관련이 없는 부분을 파악하고, 이를 분리해야 한다.
5. `상위 계층`에 위치한 코드는 `일반적`이고 `범용적`인 특성을 갖는다. 따라서 `재사용`될 수 있는 코드는 상위 계층에 `추상화`를하게 된다면, 다양한 `하위 계층`에서는 공통적으로 해당 코드를 `재사용` 할 수 있게 된다.
6. `객체지향 프로그래밍의 특징`을 적극적으로 활용한다. `추상적`인 코드일 수록 `재사용`하기 쉬우며, `상속`을 통해 상위 클래스의 `속성`과 `메서드`를 `재사용`하고, `캡슐화`를 통해 코드의 세부 정보를 숨기고 접근가능한 `인터페이스`를 노출하여 궁극적으로 `재사용`하기 쉬운 모듈을 개발 할 수 있다.
7. `객체지향 프로그래밍의 특성`과 `코드 설계 원칙`을 적용한 다양한 사례의 `디자인 패턴`을 활용한다면 코드의 `재사용성`을 증진 시킬 수 있다.
