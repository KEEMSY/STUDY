# **CHAPTER 14 이벤트 기반 아키텍처 스타일**

이벤트 기반 아키텍처(event-driven-architecture) 는 확장성이 뛰어난 고성능 애플리케이션 개발에 널리 쓰이는 비동기 분산 아키텍처 스타일이다.

- 이벤트기반 아키텍처는 적응성이 매우좋아, 소규모 애플리케이션 부터 크고 복잡한 애플리케이션 까지 두루 사용할 수 있다.
- 이벤트를 비동기 수신/처리하는 별도의 이벤트 처리 컴포넌트들로 구성한다.
- 스탠드얼론 아키텍처 스타일로 사용하거나 다른 아키텍처 스타일에 내장할 수 있다.

<br>


![modelBasedOnRequest](/img/modelBasedOnRequest.png)

대부분 요청 기반 모델(request-based model)을 따른다.

- 액션을 수행하도록 시스템에 요청하면 요청 오케스트레이터(request orchestrator)가 접수한다.
- 요청 오케스트레이터는 보통 유저 인터페이스 이지만 API레이어나 엔터프라이즈 서비스로도 구현할 수 있다.

*요청 오케스트 레이터(컴포넌트)의 임무는 다양한 요청 프로세서(request processor)에 확정적으로(deterministically), 동기적으로(synchronously) 요청을 전달하는 일이다. 요청 프로세서는 요청을 받아 데이터베이스에서 정보를 조회/수정하는 등의 작업을 수행하는 식으로 요청을 처리한다.*

<br>

시스템에서 유저가 주문이력을 요청할 경우 주문 이력 조회는 특정한 콘텍스트에서 시스템에 데이터를 달라고 전달된, 데이터 기반의 확정적인 요청이지, 시스템이 반응해야할 이벤트가 발생한 것은 아니다.

<br>

이벤트 기반 모델은 특정한 상황에 대응하여 그 이벤트에 알맞게 액션을 취한다.

- 경매사이트에서 입찰자가 어떤 항목에 입찰을 할 경우, 입찰을 하는 행위는 시스템에 무엇인가 요청을 하는 것보다는, 현재 가격이 발표된 직후에 발생하는 이벤트에 더 가깝다.
- 시스템은 이 이벤트에 반응하여 동시 발생한 달느 입찰가와 비교 후 현재까지 누가 가장 높은 가격을 부른 입찰자인지 결정할 수 있다.