# 테스트 대역(test double)
*테스트 대역이란 실제 구현 대신 사용할 수 있는 객체나 함수를 말한다. 테스트 대역은 영화의 스턴트맨 이라 말 할 수 있다.*

가장 직관적인 유형의 테스트 대역은 실제와 비슷하게 동작하되 더 간단하게 구현한 객체일 것이다.(인메모리 데이터베이스가 대표적!)

테스트 대역은 실제 구현보다 훨씬 가벼워서 여러 프로세스나 기기를 연동시킬 때 마저도 빠르고 안정적인 작은테스트로 부터 대응할 수 있게 해준다.

<br><hr><hr><br>

## 테스트 대역이 소프트웨어 개발에 미치는 영향

테스트 대역을 사용하면 소프트웨어 개발시 필요한 복잡한 문자가 딸려온다.

1. **테스트 용이성(testablility)**

    테스트 대역을 사용하면 코드베이스가 테스트하기 쉽도록 설계 되어있어야 한다. 그래야 테스트에서 실제 구현을 테스트 대역으로 교체할 수 있다. 

    데이터베이스를 호출하는 코드라면 실제 데이터베이스 대신 테스트 대역을 사용해도 괜찮을 만큼 유연해야 한다.

    *테스트를 염두에 두지 않고 설계된 코드라면 상당히 많이 리팩터링 해야할 것이다.*

<br>

2. **적용 가능성(applicability)**

    테스트 대역을 제대로 활용하면 엔지니어링 속도가 크게 개선될 수 있지만, 잘못 사용하면 오히려 깨지기 쉽고 복잡하고 효율도 나쁜 테스트로 전략한다.

    *실제로 테스트 대역을 활용하기에 적절하지 않은 경우가 많아 되도록이면 실제 구현을 이용하도록 하자.*

<br>

3. **충실성(fidelity)**
    
    *충실성이란 테스트 대역이 실제 구현의 행위와 얼마나 유사하냐를 말한다.*
    
    테스트 대역이 실제 구현과 전혀 다르게 동작하거나, 입력 데이터를 무시하고 항상 똑같은 결과만 반환한다면 테스트 대역은 유용하다 말할 수 없다.

    뿐만아니라 100% 충실한 것 역시 현실적이지 않지만, 많은 상황에서 완벽하게 충실하지 못한 대역만으로도 테스트는 충분한 효과를 얻을 수 있다.
    
    하지만, 테스트 대역을 사용하는 단위 테스트만으로 채우지 못하는 부분이 생갈 수 있는데 해당 부분은 실제 구현을 이용하는 더 큰 범위의 테스트로 보완해야한다.

<br><hr><hr><br>

 