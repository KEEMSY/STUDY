## `netstat [option]`
네트워크 접속, 라우팅 테이블, 네트워크 인터페이스의 통계정보를 보여주는 도구
### Option
  - 자주 쓰는 것
    - `netstat -tnlp`
  - 이 외
     - `netstat --help` 를 통해 확인 

<hr>

## 파일 이름 바꾸기
### `mv [현재 파일명/디렉토리 명] [바꿀 파일명/디렉토리 명]`
``` shell
# test를 test2 로 바꿈
mv test test2 

# /home/nestgoer/ 를 /home/goer/로 옮김
mv /home/nestgoer/ /home/goer/ 
```
 <br>
- `cp`(파일복사) 명령어와 `rm`(파일 삭제) 명령어가 연속 사용된 것과 같음.


<br> <hr> <br>

## **파일(디렉토리) 삭제**
### `rm [ooption]`
리눅스의 파일 시스템은 삭제 시 복구가 불가능 하므로 주의하여 사용한다.

> **option**
- `-r` : 지정한 경로 아래에 이쓴 모든 하위 디렉토리에 반복을 적용하여 내용을 삭제한다.(디렉토리도 삭제함)
- `-f` : 삭제할 것인지 물어보지 않고 바로 삭제한다.

<br> <hr> <br>

<hr>

## `find [option] [path] [expression]`
  - `option` 
    - `P` : 심볼릭 링크르 따라가지 않고, 심볼릭 링크 자체 정보 사용
    - `L` : 심볼릭 링크에 연결된 파일 정보 사용
    - `H` : 심볼릭 링크를 따라가지 않으나, Command Line Argument를 처리할 땐 예외
    - `D` : 디버그 메시지 출력 <br>

  - `path`<br>
  `상대경로`, `절대경로` 모두 가능하며, 리눅스의 경우 경로의 인자값을 생략하면 현재위치(`.`) 을 입력받은 것으로 간주한다.(유닉스는 입력하지 않으면 실행이 되지 않음) <br>

  - `expression`
    - `name` : 해당 이름의 파일을 찾는다.(정규표현식 활용 가능)
    - `type` : 지정된 파일 타입에 해당하는 파일을 검색한다.
    - `user` : 해당 유저에게 속한 파일을 검색한다.
    - `empty` : 빈 디렉토리 혹은 크기가 0인 파일을 검색한다.
    - `delete` : 검색된 파일 혹은 디렉토리를 삭제한다.
    - `exec` : 검색된 파일에 대해 지정된 명령을 시행한다.
    - `path` : 지정된 문자열 패턴에 해당하는 경로에서 탐색한다.
    - `print0` : 검색 결과를 출력한다.(검색 항목은 null로 구분한다.)
    - `size` : 파일 크기를 사용하여 파일 검색한다.
    - `mindepth` : 검색을 시작 할 하위 디렉토리 최소 깊이 지정.
    - `maxdepth` : 검색할 하위 디렉토리의 최대 깊이 지정.
    - `atime` : n일 이내에 엑세스된 파일을 찾음.
    - `ctime` : n일 이내에 만들어진 파일을 찾음.
    - `mtime` : n일 이내에 수정된 파일을 찾음.
    - `cnewer file` : 해당 파일보다 최근에 수정된 파일을 찾는다.
  
  - Example
    - `파일 명`으로 찾기 <br>

      > 현재 디렉토리에서 test가 포함되는 파일 찾기 <br>
      `find . -name "*test*"` <br> <br>
      > 현재 디렉토리에서 .txt 확장자 모두 찾기 <br>
      `find . -name "*.txt"` <br> <br>
      > 현재 디렉토리에서 .txt 확장자 파일 검색 후 모두 삭제 <br>
      `find . -name "*.txt" -delete` <br> <br>
      > 현재 디렉토리에서 test로 시작되는 파일 찾기 <br>
      `find . -name "test*"` <br> <br>
      > 현재 디렉토리에서 test로 끝나는 파일 찾기<br>
      `find . -name "*test"` <br> 
     

    - `타입`으로 찾기
      > 현재 디렉토리에서 모든 디렉토리 찾기 <br>
      `find . -type d` <br> <br>
      > 현재 디렉토리에서 test가 들어가는 디렉토리 찾기 <br>
      `find . -name "*test*" -type d` <br> <br>
      > 현재 디렉토리에서 모든 파일 찾기 <br>
      `find . -type f`  <br> 

    - `파일크기`로 찾기(-empty, -size)<br>

      > 현재 디렉토리에서 빈 디렉토리이거나 크기가 0인 파일 검색 <br>
      `find . -empty` <br> <br>
      > 현재 디렉토리에서 test가 들어가는 빈 디렉토리이거나 크기가 0인 파일 검색하여 삭제 <br>
      `find . -name "*test*" -empty -delete` <br> <br>
      > 현재 디렉토리에서 1024byte인 파일 검색 <br>
      `find . -size 1024c` <br> <br>
      > 현재 디렉토리에서 1024byte보다 큰 파일 검색 <br>
      `find . -size +1024c` <br> <br>
      > 현재 디렉토리에서 1024byte보다 작은 파일 검색<br>
      `find . -size -1024c` <br> 
      > 현재 디렉토리에서 1kb보다 크고 10kb보다 작은 파일 검색<br>
      `find . -size +1k -size -10k` <br> 

      > **size를 사용하여 파일의 크기 지정** <br>
        `b` : 블록단위 <br>
        `c` : byte <br>
        `k` : kbyte <br>
        `w` : 2byte 워드

    - 검색된 파일에서 `추가명령` 실행하기(`exec`사용)
      > 현재 디렉토리에 "test"가 들어가는 파일을 찾아서 상세정보 출력 <br>
      `find . -name "*test*" -exec ls -l {} \;` <br> <br>
      > 현재 디렉토리에 있는 파일에서 "test"가 들어가는 내용 찾기 <br>
      `find . -type f -exec grep "test" {} \;` <br> <br>
      > 현재 디렉토리에 ".txt" 확장자를 찾아서 모두 삭제 <br>
      `find . -name "*.txt" -exec rm {} \;`  <br>  
    - 현재 경로에서 `Permission denied` 제외하고 찾기
      > `find . -name "data*.txt" -print 2>/dev/null`

`

<hr>

## `ps [option]`
실행중인 프로세스 목록과 상태를 보여준다.
- CPU사용율과 사용중인 프로세스를 확인하기 위해서 많이 사용한다.
- 가장 많이 사용하는 것은 `ps -ef` 
- `grep`명령어와 함께 많이 사용함
  > ex). `ps -ef | gerp nginx`
  - 모든프로세스의 출력값을 `grep`을 이용하여 nginx가 포함된 라인들으 출력한다.
> ps 항목
  - `USER` : BSD계열에서 나타나는 항목으로 프로세스 소유자의 이름을 의미한다.
  - `UID` : SYSTEM V계열에서 나타나는 항목으로 프로세스 소유자의 이름을 의미한다.
  - `PID` : 프로세스의 식별번호
  - `PPID` : 부모 프로세스 ID 
  - `%CPU` : CPU 사용 비율의 추청치(BSD)
  - `%MEM` : 메모리 사용 비율의 추정치(BSD)
  - `VSZ` : K단위 또는 페이지 단위의 가상메모리 사용량
  - `RSS` : 실제 메모리 사용량(Resident Set Size)
  - `TTY` : 프로세스와 연결된 터미널
  - `S.STAT` : 현재 프로세스의 상태 코드(S: Sys V, STAT: BSD)
  - `TIME` : 총 CPU 사용 시간
  - `COMMAND` : 프로세스의 실행 명령
  - `STIME` : 프로세스가 시작된 시간 혹은 날짜
  - `C, CP` : 짧은 기간 동안의 CPU  사용율(C: Sys, CP: BSD)
  - `F` : 프로세스의 플래그
  - `PRI` : 실제 실행 우선순위
  - `NI` : nice 우선순위 번호

 
<br>

> `option`
  - `-A` : 모든 프로세스를 출력한다.
  - `a(BSD계열)` : 터미널과 연관된 프로세스를 출력한다. 보통 x 옵션과 연계하여 모든 프로세스를 출력할 때 사용한다.
  - `-a` : 세션 리더(일반적인 로그인 쉘)을 제외하고 데몬 프로세스처럼 터미널에 종속되지 않은 모든 프로세스를 출력한다.
  - `-e` : 커널 프로세스를 제외한 모든 프로세스를 출력해 준다.
  - `-f` : 풀 포맷으로 보여준다. 유닉스 스타일로 출력해주는 옵션으로, UID, PID, PPID 등이 함께 표시된다.
  - `-l, l(BSD계열)` : 긴 포맷을 보여준다.(프로세스의 정보를 길게 보여주는 옵션으로 우선순위와 관련된 PRI와 NI 값을 확인할 수 있다.)
  - `-o 값` : 출력 포맷을 지정하는 옵션으로, 값으로는 pid, tty, time, cmd
등을 지정할 수 있다.
  - `-M` : 64비트 프로세스를 보여준다.
  - `-m` : 프로세스들 뿐만 아니라 커널 스레드들도 보여준다.
  - `-p` : 특정 PID를 지정할 때 사용한다.
  - `-r` : 현재 실행중인 프로세스를 보여준다.
  - `u(BSD 계열)` : 프로세스의 소유자를 기준으로 출력한다.
  - `-u` : 특정 사용자의 프로세스 정보를 확인할 때 사용한다. 사용자를 지정하지 않으면 현재 사용자를 기준으로 정보를 출력한다.
  - `x(BSD 계열)` : 데몬 프로세스처럼 터미널에 종속되지 않는 프로세스를 출력한다. 보통 `a` 옵션과 결합하여 모든 프로세스를 출력할 때 사용한다.
  - `-x` : 로그인 상태에 있는 동안 아직 완료되지 않은 프로세서들을 보여준다.
    - 유닉스 시스템은 사용자가 로그아웃 한 후에도 임의의 프로세서가 계속 동작하게 할 수 있다. 그러면 그 프로세서는 자신을 실행시킨 쉘이 없이도 계속 자신의 일을 수행하는데 이러한 프로세스는 일반적인 `ps 명령`으로 확인할 수 없다. 이 때, `-x` 옵션을 통해 자신의 터미널이 없는 프로세서들을 확인 할 수 있다.
<hr>

## `df [option]`
`disk free`의 줄임말로, 시스템 전체(마운트 된)의디스크 여유 공간을 확인한다.
- 파일 시스템, 디스크 크기, 사용량, 여유공간, 사용율, 마운트 지점 순으로 나타난다.
- USB메모리, SD카드의 저장공간 또한 확인 가능하다. <br>
>`option`
- `-h`(human) : 사람이 보기 좋도록 M(메가), G(기가) 단위로 디스크 공간을 확인 할 수 있다. 
- `-a`(all) : 모든 파일 시스템 출력
- `-T`(type) : 보여주는 목록을 파일 시스템이 타입으로 제한
- `l`(local) : 출력하는 목록을 로컬 파일 시스템으로만 제한

> example
- `df -h` : 전체의(마운트 된) 디스크 여유 공간 확인(단위포함)
- `df -Th` : 전체의(마운트 된) 디스크 여유 공간 확인(파일 시스템의 유형 추가)

## `du` [option] [path]
`disk usage`의 줄임말로, 특정 디렉토리를 기준으로 디스크 사용량을 확인 할 수 있다.
- 경로 정보가 없으면 
> option
- `-h` : 옵션을 사용하여 디스크 사용량을 K, M, G 단위로 확인 가능하다.
  - 디렉토리 이름을 지정하지 않으면 현재 디렉토리를 기준으로 디스크 사용량을 출력한다.
  - 디렉토리 안에 있는 서브 디렉토리의 디스크 사용량도 표시된다.
- `sh`
  - `-s`: 하위 디렉토리 표시 없이 전체 용량을 표시한다.
  - `-a`(all) : 하위 디렉토리에 포함된 파일까지 추가한다.
    - 하위 디렉토리 안에 각각 용량을 표시한다.
  - `-h`(human) :크기 단위 표시를 추가한다. 

> example
- `du -ah` : 하위 디렉토리 안에 **각각** 용량 표시
- `du -sh` : 하위 디렉토리 없이 **전체** 용량 표시
- `du-ah | sort -n -r |head -n 10` : 디스크 용량이 큰 순으로 10개 정렬

<hr>


## 사용자 관리
### 1. 사용자 등록 <hr>

`adduser`
> option
- `-m` : 사용자의 홈 디렉토리 함께 생성
- `-g` : 그룹 지정
- `-d` : 디렉토링 지정
- `-s` : 쉘(shell) 지정
- `-p` : 패스워드(암호) 지정
  - 계정을 만들면 비밀번호를 꼭 설정해야함
    - `passwd [생성한 유저]`
<hr>

### 2. 사용자 확인
### 2-1. 전체 목록 확인
`cat /etc/passwd`
- `ID`만 잘라 확인하기
  - `cut -fl -d: /etc/passwd`

### 2-2. `USERADD` 를 통해 등록된 계정만 보기
- `grep /bin/bash /etc/passwd`
- `grep /bin/bash /etc/passwd | cut -fl -d:` 
  - `ID`만 잘라 보여줌

<hr>

### 3. 사용자 변경
`su [생성한 유저]`
- 이전 사용자로 돌아가기 위해서는 `exit`을 입력한다.

<hr>

### 4.사용자 삭제
`user del [option] [생성한 유저 이름]` <br> or `deluser`
> option
- `-r` : 홈 디렉토리 등 유저와 관련된 모든 내용을 삭제하기 위해 사용함
<br>
<hr>
<br>

## 파일 권한 
### 1. 파일 권한 확인
`ls -a`
<hr>

### 2. 파일 권한 수정
`chmod [권한] [변경할 파일 또는 디렉토리]`
  - `rwx rwx rwx`(공백은 존재하지 않음)
    - 첫번째 영역 : 사용자(User)
    - 두번째 영역 : 그룹(Group)
    - 세번째 영역 : 다른 사용자(Other)
    <br> 

    - `r`(read) : 4
    - `w`(write) : 2
    - `x`(excute) : 1
> example
`chmod 777 testfile` : 사용자, 그룹, 다른사용자 가 읽기/쓰기/실행 권한을 갖는다. <br>
`chmod 755 testfile` : 사용자 : 읽기/쓰기/실행권한, 그룹 : 읽기/실행권한, 모든유저 : 읽기/실행권한
`chmod 421 testfile` : 사용자 : 읽기 권한, 그룹 : 쓰기권한, 모든유저 : 실행권한
<hr> 

### 3. 소유권 변경
`chown [소유주] [변경할 파일]` <br> `chown [소유주]:[그룹] [변경할 디렉토리]`

<br>
<hr>
<br>


## 설치 패키지 조회
## 1. `rpm [option]` (CentOS, 레드햇)
리눅스 시스템에 설치된 전체 패키지 혹은 특정 패키지의 설치 여부와 설치 시 어떤 파일들이 설치되었는지 확인 할 수 있다.

>### 1.1 설치된 전체 패키지 확인
`rpm -qa` <br>
>### 1.2 설치된 전체 패키지 갯수(*wc 명령어는 단어, 문자, 행의 개수를 각각 카운트 한다.*) <br>
`rpm -qa | wc -l`

>### 1.3 특정 패키지가 설치되어 있는지 확인
`rpm -qa | grep [패키지 이름]` <br>

>### 1.4 특정 패키지에 의해 어떤 파일들이 생성되었는지 확인
`rpm -ql openssh`<br>

>### 1.5 특정 패키지에 의해 생성된 파일의 갯수 확인
`rpm -ql oppenssh | wc -l` <br>

>### 1.6 특정 파일이 어떤 패키지에 의해 생성되었는지 확인
`rpm -qf /bin/cp` <br>

>### 1.7 특정 패키지의 정보 출력
`rpm -qi openssh` <br>
<br>

## 2. `dpkg [option]` (ubuntu 14.04 이전)
>### 2.1 설치된 전체 패키지 확인 
`dpkg -l` <br>

>### 2.2 특정 패키지가 설치되어있는지 확인
`dpkg -l | grep [패키지 이름]` <br>
<br>


## 3. `apt [option]` (ubuntu 14.04 이후)
>### 3-1 설치된 전체 패키지 확인
`apt list --installed` <br>

>### 3-2 특정 패키지가 설치되어있는지 확인
`apt list --installed | grep [패키지 이름]` <br>

<hr>
<br>

## `wget` [option] [URL]
*"Web Get"의 약자로 웹 상의 파일을 다운로드 받을 때 사용하는 명령어*
- 비 상호작용 네트워크 다운로더로 네트워크 상에서 데이터를 다운로드 하는 기능알 수행한다.
- HTTP, HTTPS, FTP 프로토콜을 지원하며, HTTP proxyt에서 데이터를 가져올 수 있다.
- 국외 서버에서 제공하는 다운로드 링크를 이용하는 경우 인터넷 통신이 불안정하여 중간에 끊길 수 있다. <br>
-> `tries`를 통해 재시도 횟수를 지정한다.

> `option`
- `--tries` : 실패 시 재시도를 하는 횟수를 지정한다.
- `-c` : 다운로드 받다 중단된 파일을 이어서 다운로드 받는 옵션, 기존의 중단된 파일이 있는 디렉토리에서 실행되어야 한다.
- `-o` : 다운로드 로그파일을 만든다.
- `-a` : `-o`옵션처럼 다운로드 로그를 남긴다. 하지만 기존의 파일을 덮어쓰지 않고 추가만 한다. 지정된 로그 파일이 존재하지 않으면 해당 이름의 파일으 생성하고 로그를 만든다.
- -`O filename DOWNLOAD-URL` : wget을 통해 다운로드 할 경우 저장되는 파일명은 URL의 마지막 '/' 뒤에 오는 단어를 파일명으로 저장한다.
- `--limit-rate=N DOWNLOAD-URL` : wget은 기본 값으로 최대 대역폭을 사용한다. 필요할 경우 '--limit-rate' 옵션을 이용하여 다운로드 속도를 조절할 수 있다.
- `-b DOWNLOAD-URL` : 다운로드 작업을 백그라운드에서 실행한다. 로그는 wget-log에 기록된다. 로그를 실시간으로 확인하려면 tail -f wget-log를 이용하여 볼 수 있다.
- `--user-agent="User-info" DOWNLOAD-URL` : 웹브라우저를 이용하지 않을 경우 일부 사이트에서는 다운로드를 제한하는데, 이 경우 '--user-agent' 옵션을 이용하여 사이트에 정보를 전송한다.
- `-V, --version` : Wget의 버전을 보여준다.
- `-h, --help` : Wgwt의 명령 옵션의 전부에 대한 도움말을 출력한다.
- `-b, --background` : 시작한 후 즉시 백그라운드에서 작동한다. 결과 파일이 없음이 –o를 통해 지정되었다면, 결과는 wget-log로 다시 보내진다.
- `-e command, --execute command` : .wgetrc를 읽어서 명령을 실행한다.
- `-d, --debug` : 디버그 내용을 출력한다.
- `-i file, --input-file=file` : 다운받을 URL 주소를 로컬이나 파일에서 찾는다. 만약 file에 ‘-’를 입력하면 표준 입력으로 URL를 받는다.
- `-F, --force-html` : 파일에서 input을 읽어올 때, HTML 파일로 처리한다.
- `-i FILE-WHICH-HAS-URLS` : 한 번에 여러개의 파일을 다운로드 한다. URL은 개행으로 구분되어 입력된 파일을 통해 입력한다.
- `--reject=FILE-EXTENSION DOWNLOAD-URL` : 특정 파일 확장자를 제외하고 다운로드 한다.
- `-r -A.FILE-EXTENSION DOWNLOAD-URL` : 특정 파일 확장자만 다운로드 한다. '-r'은 재귀적 탐색을, '-A'는 accept할 파일 타입을 지정한다.

*추가 옵션 참고 : [GNU wget 매뉴얼](https://www.gnu.org/software/wget/manual/wget.html)* <br>


> `example` <br>

- `wget --tries=10 https://www.ebi.ac.uk/~zerbino/velvet/velvet_1.2.10.tgz` : 해당 경로에서 다운로드한다.(재 시도 10번)
- `wget --tries=10 http://fly.srk.fer.hr/ -o log` : 해당 경로에서 다운로드를 수행하고, `log`파일을 만들어 로그를 남긴다.
- `wget -c https://www.ebi.ac.uk/~zerbino/velvet/velvet_1.2.10.tgz` : 해당 경로에서 다운로드 중 중단된 파일을 이어서 다운로드 받는다.

<hr>
<br>

## `tail [option] [파일 명]`
*파일의 마지막 행을 기준으로 지정한 행까지의 파일 내용 일부를 출력해주는 명령*
- 일반적으로 text기반의 내용을 보여주며, binary 형식의 파일은 알아볼 수 없는 문자로 출력되므로 binary로 된 파일에서는 거의 사용하지 않는 것이 좋다.

> `option`
- `f` : tail을 종료하지 않고 파일의 업데이트 내용을 실시간으로 계속 출력한다.
- `-n [라인 수]` : 파일의 마지막줄부터 지정한 라인수까지의 내용을 출력한다.
- `-c [바이트 수]` : 파일의 마지막부터 지정한 바이트 만큼의 내용을 출력한다.
- `-q` : 파일의 헤더와 상단의 파일 이름을 출력하지 않고 내용만 출력한다.
- `-v, --verbose` : 출력하기 전에 파일의 헤더와 이름을 먼저 출력한 후 파일의 내용을 출력한다.


> `example`
- `tail -f mylog.log | grep 192.168.10.81` :  mylog파일을 실시간으로 액세스하고 IP주소가 192.168.42.12인 행만 추출
- `tail mylog1.log mylog2.log` : 여러 파일을 동시에 표시
- `tail -c 100` :  100byte의 내용만큼 파일의 내용을 보여준다.

<br> <br>

## `head [option] [파일 명]`
*파일의 첫행을 기준으로 지정한 행까지의 파일 내용 일부를 출력해주는 명령*
- 일반적으로 text기반의 내용을 보여주며, binary 형식의 파일은 알아볼 수 없는 문자로 출력되므로 binary로 된 파일에서는 거의 사용하지 않는 것이 좋다.


> `example`
- `head -f mylog.log | grep 192.168.10.81` :  mylog파일을 실시간으로 액세스하고 IP주소가 192.168.42.12인 행만 추출
- `head mylog1.log mylog2.log` : 여러 파일을 동시에 표시
- `head -c 100` :  100byte의 내용만큼 파일의 내용을 보여준다.

> `option`
- `-n [라인 수]` : 파일의 마지막줄부터 지정한 라인수까지의 내용을 출력한다.
- `-c [바이트 수]` : 파일의 마지막부터 지정한 바이트 만큼의 내용을 출력한다.
- `-q` : 파일의 헤더와 상단의 파일 이름을 출력하지 않고 내용만 출력한다.
- `-v, --verbose` : 출력하기 전에 파일의 헤더와 이름을 먼저 출력한 후 파일의 내용을 출력한다.